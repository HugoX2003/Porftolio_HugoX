---
import { Icon } from "astro-icon/components";

const categories = [
    {
        title: "Frontend",
        icon: "mdi:monitor-dashboard",
        desc: "Interfaces & UX",
        skills: [
            {
                name: "JavaScript",
                icon: "mdi:language-javascript",
                color: "#F7DF1E",
            },
            {
                name: "TypeScript",
                icon: "simple-icons:typescript",
                color: "#3178C6",
            },
            { name: "HTML5", icon: "simple-icons:html5", color: "#E34F26" },
            { name: "CSS3", icon: "simple-icons:css3", color: "#1572B6" },
            { name: "React", icon: "simple-icons:react", color: "#61DAFB" },
            {
                name: "Next.js",
                icon: "simple-icons:nextdotjs",
                color: "#ffffff",
            },
            { name: "Astro", icon: "simple-icons:astro", color: "#FF5D01" },
            { name: "Angular", icon: "simple-icons:angular", color: "#DD0031" },
            {
                name: "Tailwind",
                icon: "simple-icons:tailwindcss",
                color: "#38B2AC",
            },
            {
                name: "Bootstrap",
                icon: "simple-icons:bootstrap",
                color: "#7952B3",
            },
            { name: "Figma", icon: "simple-icons:figma", color: "#F24E1E" },
        ],
    },
    {
        title: "Backend",
        icon: "mdi:server-network",
        desc: "Logic & APIs",
        skills: [
            { name: "Java", icon: "mdi:language-java", color: "#007396" },
            { name: "Python", icon: "mdi:language-python", color: "#3776AB" },
            {
                name: "Node.js",
                icon: "simple-icons:nodedotjs",
                color: "#339933",
            },
            {
                name: "Spring Boot",
                icon: "simple-icons:springboot",
                color: "#6DB33F",
            },
            { name: "Django", icon: "simple-icons:django", color: "#092E20" },
            { name: "Kotlin", icon: "mdi:language-kotlin", color: "#7F52FF" },
            { name: "PHP", icon: "simple-icons:php", color: "#777BB4" },
            {
                name: "WordPress",
                icon: "simple-icons:wordpress",
                color: "#21759B",
            },
            {
                name: "Solidity",
                icon: "simple-icons:solidity",
                color: "#ffffff",
            },
        ],
    },
    {
        title: "Databases",
        icon: "mdi:database",
        desc: "Data Management",
        skills: [
            { name: "MySQL", icon: "simple-icons:mysql", color: "#4479A1" },
            {
                name: "PostgreSQL",
                icon: "simple-icons:postgresql",
                color: "#336791",
            },
            { name: "SQLite", icon: "simple-icons:sqlite", color: "#003B57" },
            {
                name: "Firebase",
                icon: "simple-icons:firebase",
                color: "#FFCA28",
            },
        ],
    },
    {
        title: "DevOps & Cloud",
        icon: "mdi:cloud-outline",
        desc: "Infrastructure",
        skills: [
            { name: "AWS", icon: "simple-icons:amazonaws", color: "#232F3E" },
            { name: "Docker", icon: "simple-icons:docker", color: "#2496ED" },
            { name: "Git", icon: "simple-icons:git", color: "#F05032" },
            { name: "GitHub", icon: "simple-icons:github", color: "#ffffff" },
            { name: "Linux", icon: "simple-icons:linux", color: "#FCC624" },
            { name: "Nginx", icon: "simple-icons:nginx", color: "#009639" },
            { name: "Vercel", icon: "simple-icons:vercel", color: "#ffffff" },
            { name: "Postman", icon: "simple-icons:postman", color: "#FF6C37" },
            { name: "Jenkins", icon: "simple-icons:jenkins", color: "#D24939" },
        ],
    },
];
---

<section id="skills" class="technologies-section">
    <div class="container">
        <h2 class="section-title">
            <span class="bracket">&lt;</span>
            <span class="desktop-text">TECHNOLOGIES</span><span
                class="mobile-text">SKILLS</span
            > / <span class="bracket">&gt;</span>
        </h2>

        <div class="categories-grid">
            {
                categories.map((cat) => (
                    <div class="category-card">
                        <div class="cat-header">
                            <Icon name={cat.icon} class="cat-icon" />
                            <h3 class="cat-title">{cat.title}</h3>
                            <p class="cat-desc">{cat.desc}</p>
                        </div>

                        <div class="skills-grid">
                            {cat.skills.length > 0 ? (
                                cat.skills.map((skill) => (
                                    <div class="skill-item" title={skill.name}>
                                        <Icon
                                            name={skill.icon}
                                            class="skill-icon"
                                            style={`color: ${skill.color}`}
                                        />
                                    </div>
                                ))
                            ) : (
                                <div class="empty-state">
                                    <span>Coming soon...</span>
                                </div>
                            )}
                        </div>

                        <div class="category-footer">
                            <span>{cat.skills.length} tools</span>
                        </div>

                        {/* Decor elements */}
                        <div class="corner-decor top-right" />
                        <div class="corner-decor bottom-left" />
                    </div>
                ))
            }
        </div>
    </div>
</section>

<style>
    .technologies-section {
        padding: 4rem 0;
        position: relative;
    }

    .section-title {
        color: var(--color-primary);
        text-align: center;
        margin-bottom: 4rem;
        font-size: 2.5rem;
        text-transform: uppercase;
        letter-spacing: 4px;
    }

    @media (max-width: 768px) {
        .section-title {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            letter-spacing: 2px;
        }
    }

    .categories-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1.5rem;
        width: 100%;
    }

    @media (max-width: 1024px) {
        .categories-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 600px) {
        .categories-grid {
            grid-template-columns: 1fr;
        }
    }

    .category-card {
        background: rgba(10, 10, 10, 0.8);
        border: 1px solid var(--color-border);
        border-radius: 12px;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
    }

    .category-card:hover {
        transform: translateY(-5px);
        border-color: var(--color-primary);
        box-shadow: 0 0 20px rgba(0, 255, 65, 0.1);
    }

    .cat-header {
        text-align: center;
        margin-bottom: 2rem;
        width: 100%;
    }

    .cat-icon {
        font-size: 3rem;
        color: var(--color-primary);
        margin-bottom: 1rem;
        display: flex;
        justify-content: center;
        width: 100%; /* Ensure icon centers properly */
    }

    .cat-title {
        color: #fff;
        font-size: 1.5rem;
        margin: 0 0 0.5rem 0;
        font-family: var(--font-heading);
    }

    .cat-desc {
        color: #888;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .skills-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1rem;
        width: 100%;
        margin-bottom: 2rem;
    }

    .skill-item {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid transparent;
        border-radius: 8px;
        padding: 0.75rem;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: all 0.3s ease;
        aspect-ratio: 1;
        position: relative;
        overflow: hidden;
    }

    .skill-item:hover {
        background: rgba(255, 255, 255, 0.08);
        border-color: var(--skill-color);
        transform: translateY(-5px);
        box-shadow: 0 0 15px var(--skill-color);
    }

    .skill-icon {
        width: 32px;
        height: 32px;
        font-size: 2rem;
        color: #555; /* Default dormant color */
        transition: all 0.3s ease;
        filter: grayscale(100%) opacity(0.7);
    }

    .skill-item:hover .skill-icon {
        color: var(--skill-color);
        filter: grayscale(0%) opacity(1) drop-shadow(0 0 5px var(--skill-color));
        transform: scale(1.1);
    }

    .empty-state {
        grid-column: 1 / -1;
        text-align: center;
        color: #555;
        padding: 2rem 0;
        font-style: italic;
        border: 1px dashed #333;
        border-radius: 8px;
    }

    .category-footer {
        margin-top: auto;
        padding-top: 1rem;
        border-top: 1px solid var(--color-border);
        width: 100%;
        text-align: center;
    }

    .category-footer span {
        color: var(--color-primary);
        font-size: 0.8rem;
        background: rgba(0, 255, 65, 0.1);
        padding: 0.25rem 1rem;
        border-radius: 20px;
    }

    .corner-decor {
        position: absolute;
        width: 15px;
        height: 15px;
        border: 2px solid var(--color-accent);
        opacity: 0.5;
        transition: all 0.3s ease;
    }

    .top-right {
        top: -1px;
        right: -1px;
        border-bottom: none;
        border-left: none;
        border-radius: 0 12px 0 0;
    }

    .bottom-left {
        bottom: -1px;
        left: -1px;
        border-top: none;
        border-right: none;
        border-radius: 0 0 0 12px;
    }

    .category-card:hover .corner-decor {
        opacity: 1;
        width: 25px;
        height: 25px;
        border-color: var(--color-secondary);
    }

    @media (max-width: 600px) {
        .skills-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    .bracket {
        color: var(--color-text);
        animation: blink 1s infinite;
    }

    @keyframes blink {
        50% {
            opacity: 0;
        }
    }

    .mobile-text {
        display: none;
    }

    @media (max-width: 768px) {
        .desktop-text {
            display: none;
        }
        .mobile-text {
            display: inline;
        }
    }
</style>
